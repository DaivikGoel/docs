---
title: 'Authentication'
description: 'Secure your API requests with proper authentication'
---

## Overview

The Shor API uses API keys to authenticate requests. You can view and manage your API keys in your [dashboard settings](/merchant/settings).

## Authentication Method

All API requests must include your API key in the `Authorization` header:

```bash
Authorization: Bearer YOUR_API_KEY
```

<Warning>
Your API keys carry many privileges. Keep them secure and never share them in publicly accessible areas such as GitHub, client-side code, etc.
</Warning>

## Getting Your API Key

<Steps>
  <Step title="Log into Dashboard">
    Access your merchant dashboard at [app.shorpay.com](https://app.shorpay.com)
  </Step>
  <Step title="Navigate to Settings">
    Click on Settings in the sidebar navigation
  </Step>
  <Step title="API Keys Section">
    Find the API Keys section and click "Generate New Key"
  </Step>
  <Step title="Save Your Key">
    Copy and securely store your API key - it won't be shown again
  </Step>
</Steps>

## Making Authenticated Requests

### Example Request

```bash
curl https://api.shorpay.com/api/v1/merchant/payment-links/get-payment-links \
  -H "Authorization: Bearer sk_live_ABCDEFghijklmnop123456789"
```

### Using Different Tools

<Tabs>
  <Tab title="cURL">
    ```bash
    curl -X GET https://api.shorpay.com/api/v1/merchant/transactions/get-transactions \
      -H "Authorization: Bearer YOUR_API_KEY" \
      -H "Content-Type: application/json"
    ```
  </Tab>
  <Tab title="JavaScript">
    ```javascript
    const response = await fetch('https://api.shorpay.com/api/v1/merchant/transactions/get-transactions', {
      method: 'GET',
      headers: {
        'Authorization': 'Bearer YOUR_API_KEY',
        'Content-Type': 'application/json'
      }
    });
    
    const data = await response.json();
    ```
  </Tab>
  <Tab title="Python">
    ```python
    import requests
    
    headers = {
        'Authorization': 'Bearer YOUR_API_KEY',
        'Content-Type': 'application/json'
    }
    
    response = requests.get(
        'https://api.shorpay.com/api/v1/merchant/transactions/get-transactions',
        headers=headers
    )
    
    data = response.json()
    ```
  </Tab>
  <Tab title="PHP">
    ```php
    $ch = curl_init();
    
    curl_setopt($ch, CURLOPT_URL, 'https://api.shorpay.com/api/v1/merchant/transactions/get-transactions');
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_HTTPHEADER, [
        'Authorization: Bearer YOUR_API_KEY',
        'Content-Type: application/json'
    ]);
    
    $response = curl_exec($ch);
    curl_close($ch);
    
    $data = json_decode($response, true);
    ```
  </Tab>
</Tabs>

## API Key Types

### Live Keys

- Start with `sk_live_`
- Use for production environments
- Access real payment data
- Create actual payment links

### Test Keys

- Start with `sk_test_`
- Use for development and testing
- Access sandbox environment
- No real money movement

<Info>
Always use test keys during development. Only switch to live keys when ready for production.
</Info>

## API Key Permissions

When creating an API key, you can set specific permissions:

| Permission | Description |
|------------|-------------|
| `payment_links:read` | View payment links |
| `payment_links:write` | Create and update payment links |
| `transactions:read` | View transaction data |
| `webhooks:write` | Configure webhooks |
| `analytics:read` | Access analytics data |

### Creating Restricted Keys

For enhanced security, create keys with minimal required permissions:

```json
{
  "name": "Mobile App Key",
  "permissions": [
    "payment_links:read",
    "transactions:read"
  ]
}
```

## Security Best Practices

### Do's

✅ **Secure Storage**
- Store keys in environment variables
- Use secret management services
- Encrypt keys at rest

✅ **Key Rotation**
- Rotate keys regularly (every 90 days)
- Update keys immediately if compromised
- Keep audit logs of key usage

✅ **Environment Separation**
- Use different keys for dev/staging/production
- Never use production keys in development
- Clearly label key purposes

### Don'ts

❌ **Never Share Keys**
- Don't commit to version control
- Don't share in emails or chat
- Don't expose in client-side code

❌ **Avoid Bad Practices**
- Don't hardcode keys in source
- Don't log API keys
- Don't use same key everywhere

## Authentication Errors

### Common Error Responses

<AccordionGroup>
  <Accordion title="401 Unauthorized">
    **Missing or Invalid Key**
    ```json
    {
      "error": {
        "type": "authentication_error",
        "message": "Invalid API key provided"
      }
    }
    ```
    
    **Solution**: Check that your API key is correct and properly formatted
  </Accordion>
  
  <Accordion title="403 Forbidden">
    **Insufficient Permissions**
    ```json
    {
      "error": {
        "type": "permission_error",
        "message": "API key doesn't have permission for this resource"
      }
    }
    ```
    
    **Solution**: Ensure your API key has the required permissions
  </Accordion>
  
  <Accordion title="429 Too Many Requests">
    **Rate Limit Exceeded**
    ```json
    {
      "error": {
        "type": "rate_limit_error",
        "message": "Rate limit exceeded",
        "retry_after": 3600
      }
    }
    ```
    
    **Solution**: Implement exponential backoff and respect rate limits
  </Accordion>
</AccordionGroup>

## Environment Variables

### Setting Up

<Tabs>
  <Tab title="Linux/Mac">
    ```bash
    # .env file
    SHOR_API_KEY=sk_live_your_api_key_here
    
    # Load in shell
    export SHOR_API_KEY=sk_live_your_api_key_here
    ```
  </Tab>
  <Tab title="Windows">
    ```powershell
    # Set environment variable
    $env:SHOR_API_KEY = "sk_live_your_api_key_here"
    
    # Or use system settings
    setx SHOR_API_KEY "sk_live_your_api_key_here"
    ```
  </Tab>
  <Tab title="Docker">
    ```dockerfile
    # Dockerfile
    ENV SHOR_API_KEY=sk_live_your_api_key_here
    
    # docker-compose.yml
    environment:
      - SHOR_API_KEY=sk_live_your_api_key_here
    ```
  </Tab>
</Tabs>

### Using in Code

```javascript
// Node.js
const apiKey = process.env.SHOR_API_KEY;

// Python
import os
api_key = os.environ.get('SHOR_API_KEY')

// PHP
$apiKey = $_ENV['SHOR_API_KEY'];
```

## API Key Management

### Viewing Keys

List all your API keys:
```bash
GET /api/v1/merchant/api-keys
```

Response:
```json
{
  "keys": [
    {
      "id": "key_abc123",
      "name": "Production Key",
      "created": "2024-01-01T00:00:00Z",
      "last_used": "2024-01-15T12:00:00Z",
      "permissions": ["payment_links:write", "transactions:read"]
    }
  ]
}
```

### Revoking Keys

Immediately revoke a compromised key:
```bash
DELETE /api/v1/merchant/api-keys/{key_id}
```

<Warning>
Revoking a key immediately invalidates it. Ensure you've updated your applications before revoking.
</Warning>

## Testing Authentication

### Health Check Endpoint

Test your API key with a simple request:

```bash
GET /api/v1/health
Authorization: Bearer YOUR_API_KEY
```

Success response:
```json
{
  "status": "ok",
  "authenticated": true,
  "merchant_id": "merchant_123",
  "key_type": "live"
}
```

## OAuth 2.0 (Coming Soon)

We're working on OAuth 2.0 support for:
- Third-party integrations
- Marketplace applications
- Enhanced security flows
- Granular permissions

## Next Steps

Now that you're authenticated, start making API calls:

<CardGroup cols={2}>
  <Card title="Create Payment Link" icon="plus" href="/api-reference/payment-links/create">
    Create your first payment link
  </Card>
  <Card title="Error Handling" icon="triangle-exclamation" href="/api-reference/errors">
    Handle API errors properly
  </Card>
</CardGroup>